<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>CODE WIKI</title>
    <!-- viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- Bootstrap CSS-->
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.4.1-1/css/bootstrap.min.css}" type="text/css">

    <!-- CSS-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Comfortaa|Noto+Sans+KR|Nanum+Gothic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" th:href="@{/css/main.css}" type="text/css">
    <link rel="stylesheet" th:href="@{/css/mypage.css}" type="text/css">
</head>
<body>
    <div th:insert="common/header.html"></div>

    <article class="container-flui wiki-article">
        <div class="mypage-context">
            <div class="row">
                <h3 class="form-title h5 col-9 font-weight-light"><span class="font-comfortaa">My Page</span></h3>
                <a class="btn btn-secondary col-3" th:href="@{/user/logout}">로그아웃</a>
            </div>
            <div class="card">
                <form class="form-mypage" th:action="@{/user/mypage}" method="post">
                    <div class="card-body font-NG">
                        <div class="form-group row">
                            <label class="col-4 col-form-label">Email</label>
                            <input type="hidden" id="email" name="email" th:value="${email}">
                            <div class="col">
                                <span class="form-control-plaintext" sec:authentication="name"></span>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="password" class="col-4 col-form-label">비밀번호</label>
                            <div class="col">
                                <input type="password" id="password" name="password" class="form-control" placeholder="기존 패스워드 입력" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="newPassword" class="col-4 col-form-label">변경할 비밀번호</label>
                            <div class="col">
                                <input type="password" id="newPassword" name="newPassword" class="form-control" placeholder="변경할 패스워드 입력" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="confirmPassword" class="col-4 col-form-label">비밀번호 확인</label>
                            <div class="col">
                                <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="변경할 패스워드 재입력" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="name" class="col-4 col-form-label">사용자 이름</label>
                            <div class="col">
                                <input type="text" id="name" name="name" class="form-control" placeholder="변경할 이름(닉네임) 입력" required th:value="${name}">
                            </div>
                        </div>
                        <div th:if="${resultMsg}!=null" class="result">
                            <p><span th:text="${resultMsg}"></span></p>
                        </div>
                    </div>
                    <div class="card-footer row">
                        <input type=submit class="btn-leave btn btn-warning col-3" value="회원탈퇴">
                        <span class="col-5"></span>
                        <input type=submit class="btn-update btn btn-secondary col-4" value="회원정보수정">
                    </div>
                </form>
            </div>
        </div>
    </article>
    <script th:src="@{/webjars/jquery/3.4.1/jquery.min.js}" type="text/javascript"></script>
    <script th:src="@{/webjars/bootstrap/4.4.1-1/js/bootstrap.bundle.min.js}" type="text/javascript"></script>
    <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/search.js}" type="text/javascript"></script>
    <script th:src="@{/js/mypage.js}" type="text/javascript"></script>
</body>
</html>